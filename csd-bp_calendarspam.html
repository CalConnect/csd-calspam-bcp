<?xml version="1.0"?>
<!DOCTYPE html SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>csd-bp_calendarspam</title><style>
  <!--
@charset "UTF-8";
/*
    0 CSS RESET
*/
/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0; }

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  border: 0;
  font-size: 100%; }

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, tt, var,
b, u, i, center,
dl, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  vertical-align: baseline; }

html, body, div, span, applet, object, iframe,
p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  font-family: "Overpass", sans-serif; }

h1, h2, h3, h4, h5, h6, .h2Annex {
  font-family: "Overpass", sans-serif; }

dl {
  display: grid;
  grid-template-columns: max-content auto; }

dt {
  grid-column-start: 1; }

dd {
  grid-column-start: 2; }

dd p {
  margin-top: 0px; }

/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block; }

body {
  line-height: 1; }

blockquote, q {
  quotes: none; }

blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none; }

table {
  border-collapse: collapse;
  border-spacing: 0; }

/*
    1. HTML & Body
*/
body {
  margin: 0;
  margin-left: auto;
  margin-right: auto;
  max-width: 100%;
  color: #1d1d1d;
  font-weight: 300;
  font-size: 15px;
  line-height: 1.4em;
  background-color: #ffffff; }

main {
  margin: 0 3em 0 6em; }

#toc {
  font-family: "Overpass", sans-serif;
  font-weight: 400; }

/*
    2. Responsive navigation layout
*/
@media (min-width: 768px) {
  nav {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    width: 323px;
    font-size: 0.9em;
    overflow: auto;
    padding: 0 0 0 45px;
    margin-right: 30px;
    background-color: #f7f7f7; }

  #toggle {
    position: fixed;
    height: 100%;
    width: 30px;
    background-color: #1d1d1d;
    color: white !important;
    cursor: pointer;
    z-index: 100; }

  #toggle span {
    text-align: center;
    width: 100%;
    position: absolute;
    top: 50%;
    transform: translate(0, -50%); }

  .container {
    padding-left: 360px; }

  .rule.toc {
    display: none; }

  h1.toc-contents {
    margin-top: 1em; }

  ul#toc-list {
    padding: 0;
    margin: 0; } }
@media (max-width: 768px) {
  #toc {
    padding: 0 1.5em 0 1.5em;
    overflow: visible; } }
#toc ul {
  margin: 0;
  padding: 0;
  list-style: none; }

#toc li {
  padding: 5px 10px; }

#toc a {
  color: #485094;
  text-decoration: none;
  display: block; }

#toc a:hover {
  color: white; }

#toc .h2 {
  padding-left: 30px; }

#toc .h3 {
  padding-left: 50px; }

#toc .toc-active a {
  color: white; }

#toc .toc-active, #toc li:hover {
  background: #1d1d1d;
  box-shadow: inset -5px 0px 10px -5px #1d1d1d !important; }

#toc li:hover a {
  color: white; }

/*
    Document types + stages
*/
.document-type-band {
  left: 0;
  top: 180px;
  height: 100%;
  position: fixed;
  display: block;
  z-index: 99;
  /*box-shadow: -5px 0px 10px #1d1d1d*/ }

.document-stage-band {
  left: 0;
  top: 0;
  height: 100%;
  position: fixed;
  display: block;
  z-index: 98;
  box-shadow: -5px 0px 10px #1d1d1d; }

.document-type {
  position: relative;
  width: 25px; }

.document-stage {
  position: relative;
  width: 25px; }

p.document-type, p.document-stage {
  color: white;
  text-transform: uppercase;
  font-size: 0.9em;
  font-weight: 400;
  letter-spacing: 0.05em;
  margin: 0;
  margin-left: 6px;
  writing-mode: tb-rl;
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  white-space: nowrap;
  display: block;
  bottom: 0; }

p.document-type {
  font-weight: 400;
  height: 210px; }

#governance-band p.document-type {
  font-weight: 400;
  height: 230px !important; }

p.document-stage {
  font-weight: 300;
  height: 160px; }

#standard-band {
  background-color: #0ac442; }

#standard {
  border-bottom: solid 3px #0ac442; }

#governance {
  border-bottom: solid 3px #750697; }

#governance-band {
  background-color: #750697; }

#guide {
  border-bottom: solid 3px #48a0e7; }

#guide-band {
  background-color: #48a0e7; }

.coverpage-maturity {
  font-family: "Overpass", sans-serif;
  font-weight: 400;
  font-size: 1em;
  margin: 0 0 2em 0;
  text-transform: uppercase; }

#proposal {
  border-bottom: solid 3px #00BFFF; }

#proposal-band {
  background-color: #00BFFF; }

#working-draft {
  border-bottom: solid 3px #fda706; }

#working-draft-band {
  background-color: #fda706; }

#committee-draft {
  border-bottom: solid 3px #fd06fd; }

#committee-draft-band {
  background-color: #fd06fd; }

#draft-standard {
  border-bottom: solid 3px #fdf906; }

#draft-standard-band {
  background-color: #fdf906; }

#final-draft {
  border-bottom: solid 3px #7e0d13; }

#final-draft-band {
  background-color: #7e0d13; }

#published {
  border-bottom: solid 3px #0ac442; }

#published-band {
  background-color: #0ac442; }

#withdrawn {
  border-bottom: solid 3px #a0a0a0; }

#withdrawn-band {
  background-color: #a0a0a0; }

/*
    3. TYPOGRAPHY
*/
/*
    3.1 Titles
*/
h1, h2, h3, h4, h5, h6 {
  font-family: "Overpass", sans-serif;
  color: #0e1a85;
  font-weight: 600;
  margin-top: 2em;
  margin-bottom: 0.3em; }

h1 {
  font-size: 1.4em;
  text-transform: uppercase;
  margin-top: 2em; }

h1#content {
  margin-top: 2em; }

h2 {
  font-size: 1.3em;
  font-weight: 400; }

h3 {
  font-size: 1.1em;
  font-weight: 400; }

/*
span[id^="toc"]:after {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  font-family: "Font Awesome 5 Free"; 
  font-weight: 900; 
  font-size: 0.8em;
  color: #cfcfcf;
  content: "\f0c1";
}
*/
.TermNum, .Terms, .AltTerms {
  color: #485094;
  font-weight: 400; }

p.TermNum {
  font-size: 0.9em;
  line-height: 1em;
  margin: 0;
  margin-top: 2em; }

p.Terms {
  font-size: 1.1em;
  line-height: 1.7em;
  margin: 0; }

/*
p.AltTerms {
  font-style: italic;
  margin: 0;
}
*/
span.obligation {
  font-weight: 400; }

/*
    3.2 Links
*/
a, a:visited {
  text-decoration: none;
  color: #485094; }

a:hover {
  color: white;
  background: #1d1d1d;
  box-shadow: 3px 0 0 #1d1d1d, -3px 0 0 #1d1d1d;
  /* padding: 2px 0 2px 0; */ }

::selection {
  background: #1d1d1d;
  /* WebKit/Blink Browsers */
  color: white; }

::-moz-selection {
  background: #1d1d1d;
  /* Gecko Browsers */
  color: white; }

.contact-info a:hover {
  color: #485094;
  text-decoration: underline;
  background: none;
  box-shadow: 0 0 0 0; }

/*
    3.3 Lists
*/
ul {
  margin-left: 1.2em; }

ul {
  margin-left: 1.2em; }

ul > li {
  list-style: none; }

ul > li:before {
  content: "—";
  display: inline-block;
  width: 1em;
  margin-left: -1.2em; }

li p {
  display: inline; }

li:first-child {
  margin-top: 1em; }

#toc ul {
  margin-bottom: 0.25em; }

#toc li {
  list-style-type: none; }

#toc li:before {
  content: " ";
  display: none; }

/*
    3.4 Rules
*/
.rule {
  width: 100%;
  height: 1px;
  background-color: #0e1a85;
  margin: 2em 0; }

h2 p {
  display: inline; }

/*
    3.5 Bibliograhy
*/
p.Biblio, p.NormRef {
  margin-top: 1em;
  margin-left: 2em;
  text-indent: -2em; }

/*
    3.6 Source Code + figures
*/
.figure, .Sourcecode {
  font-family: "Space Mono", monospace;
  background-color: #f7f7f7;
  font-size: 0.8em;
  line-height: 1.6em;
  padding: 1.5em;
  margin: 2em 0 1em 0;
  overflow: auto; }

.FigureTitle {
  font-weight: 700;
  font-size: 1em;
  text-align: center; }

/*
    3.7 Notes
*/
.Note {
  background-color: #fff495;
  color: #47430c;
  padding: 1.2em;
  margin: 2em 0 1em 0; }

/*
    3.8 Examples
*/
.example {
  background-color: #e1eef1;
  padding: 1.2em;
  margin: 2em 0 1em 0; }

.example .example-title {
  font-weight: 700;
  text-transform: uppercase;
  text-align: center;
  margin-top: 0; }

/*
    3.9 Tables
*/
table {
  border-collapse: collapse;
  width: 100%;
  font-weight: 300;
  margin: 1em 0 2em 0;
  margin-left: auto;
  margin-right: auto;
  padding-right: 2em; }

table, th, td {
  border: 1px solid black;
  font-size: 0.95em; }

td, th {
  padding: 1em; }

td.header {
  font-weight: 400; }

p.TableTitle {
  text-align: center;
  margin-top: 2.5em;
  font-weight: 400; }

/*
  3.10 Footnotes
*/
a.footnote-number {
  vertical-align: super;
  font-size: 0.8em; }

.footnote {
  font-size: 0.9em; }

/*
    3.11 Blockquotes
*/
.Quote {
  background-color: #f7f7f7;
  font-style: italic;
  width: 80%;
  padding: 1.5em;
  margin-top: 2em;
  margin-left: auto;
  margin-right: auto; }

.QuoteAttribution {
  text-align: right; }

/*
    3.12 Formulas
*/
.formula, .Formula {
  background-color: #f7f7f7;
  padding: 1.5em;
  margin-top: 2em;
  text-align: center; }

/*
    3.13 Contact Info
*/
.contact-info {
  background-color: #f7f7f7;
  padding: 2em;
  margin-top: 5em;
  width: auto;
  margin-left: auto;
  margin-right: auto;
  text-align: left; }

.contact-info p, .contact-info a {
  font-family: "Space Mono", monospace;
  font-weight: 400; }

.contact-info .name {
  font-weight: 700;
  font-size: 1.2em;
  margin-bottom: 0; }

.contact-info .address {
  font-size: 1em;
  line-height: 1.3em;
  margin-top: 0; }

/*
    Keywords
*/
span.keyword {
  font-weight: 600; }

/*
    Paragraphs
*/
p {
  margin-top: 1em;
  margin-bottom: 1em; }

/* Admonitions */
.Admonition, .admonition {
  background-color: #ffb3b3;
  /* color: #47430c;*/
  padding: 0.5em;
  margin: 1.5em 0 1.5em 0;
  text-align: left; }

.Admonition p, .admonition p {
  margin: 0; }

/*
    4.0 Page header
*/
/*
    4.1 Top Logo
*/
.wrapper-top {
  background-color: #0e1a85;
  /* background-image: url("img/dots@2x.png"); */
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAABYlAAAWJQFJUiTwAAADwUlEQVR4nO3YgQ2AMAwDwcAiWZ1NizrH30lIeIEq9nPOGSDqPgC7+93v/suy3Mmvhx+6VAAIcwFAmc4nyzYAIMgGAGEuACirdyBZtgEASTYACHMBQFm9A8myDQBIsgFAmAsAyuodSJZtAECSDQDCXABQVu9AsmwDAJJsABDmAoCyegeSZRsAkGQDgDAXAJTVO5As2wCAJBsAhLkAoKzegWTZBgAk2QAgzAUAZfUOJMs2ACDJBgBhLgAoq3cgWbYBAEk2AAhzAUBZvQPJsg0ASLIBQJgLAMrqHUiWbQBAkg0AwlwAUFbvQLJsAwCSbAAQ5gKAsnoHkmUbAJBkA4AwFwCU1TuQLNsAgCQbAIS5AKCs3oFk2QYAJNkAIMwFAGX1DiTLNgAgyQYAYS4AKKt3IFm2AQBJNgAIcwFAWb0DybINAEiyAUCYCwDK6h1Ilm0AQJINAMJcAFBW70CybAMAkmwAEOYCgLJ6B5JlGwCQZAOAMBcAlNU7kCzbAIAkGwCEuQCgrN6BZNkGACTZACDMBQBl9Q4kyzYAIMkGAGEuACirdyBZtgEASTYACHMBQFm9A8myDQBIsgFAmAsAyuodSJZtAECSDQDCXABQVu9AsmwDAJJsABDmAoCyegeSZRsAkGQDgDAXAJTVO5As2wCAJBsAhLkAoKzegWTZBgAk2QAgzAUAZfUOJMs2ACDJBgBhLgAoq3cgWbYBAEk2AAhzAUBZvQPJsg0ASLIBQJgLAMrqHUiWbQBAkg0AwlwAUFbvQLJsAwCSbAAQ5gKAsnoHkmUbAJBkA4AwFwCU1TuQLNsAgCQbAIS5AKCs3oFk2QYAJNkAIMwFAGX1DiTLNgAgyQYAYS4AKKt3IFm2AQBJNgAIcwFAWb0DybINAEiyAUCYCwDK6h1Ilm0AQJINAMJcAFBW70CybAMAkmwAEOYCgLJ6B5JlGwCQZAOAMBcAlNU7kCzbAIAkGwCEuQCgrN6BZNkGACTZACDMBQBl9Q4kyzYAIMkGAGEuACirdyBZtgEASTYACHMBQFm9A8myDQBIsgFAmAsAyuodSJZtAECSDQDCXABQVu9AsmwDAJJsABDmAoCyegeSZRsAkGQDgDAXAJTVO5As2wCAJBsAhLkAoKzegWTZBgAk2QAgzAUAZfUOJMs2ACDJBgBhLgAoq3cgWbYBAEk2AAhzAUBZvQPJsg0ASLIBQJgLAMrqHUiWbQBAkg0AwlwAUFbvQLJsAwCSbAAQ5gKAsnoHkmUbAJBkA4AwFwCU1TuQLNsAgCQbAFTNzA9ggAr9aahO8QAAAABJRU5ErkJggg==");
  color: #ffffff;
  padding: 2em 0; }

.doc-number {
  font-size: 0.5em;
  font-family: "Overpass", sans-serif; }

.coverpage-title {
  padding-bottom: 0.5em;
  font-family: "Overpass", sans-serif;
  font-size: 1.2em;
  line-height: 1.2em;
  font-weight: 900;
  padding-left: 1em;
  padding-right: 1em; }

.WordSection11 {
  padding: 0 2em 0 3em; }

.WordSection2 {
  padding: 0 3em 0 6em; }

.zzSTDTitle1, .MsoCommentText {
  display: none; }

.coverpage {
  text-align: center;
  padding-left: 1.5em; }

.coverpage-logo span, .coverpage-tc-name span {
  font-family: "Overpass", sans-serif;
  text-transform: uppercase;
  font-weight: 600; }

.coverpage-tc-name {
  font-size: 1.2em;
  line-height: 1.2em;
  margin: 0.25em 0; }

/*
    4.2 Document Identity
*/
.coverpage-doc-identity {
  font-size: 2em;
  line-height: 2em; }

.coverpage-title .title-second {
  display: none; }

.coverpage-stage-block {
  font-family: "Overpass", sans-serif;
  font-weight: 700;
  font-size: 1.25em;
  margin: 2em 0em 2em 0em;
  text-transform: uppercase; }

/*
    4.3 Draft Warning
*/
.coverpage-warning {
  border-top: solid 1px #f36f36;
  border-bottom: solid 1px #f36f36;
  margin: 1em 2em;
  color: #485094;
  padding: 1em; }

.coverpage-warning .title {
  color: #f36f36;
  font-family: "Overpass", sans-serif;
  font-weight: 700;
  text-transform: uppercase;
  font-size: 1.2em; }

/*
    4.4 Copyright
*/
.copyright {
  padding: 1em;
  font-size: 0.8em;
  text-align: left; }

.copyright .name, .copyright .address {
  color: #485094; }

/*
    5.0 Other styles
*/
/*
To top button
*/
#myBtn {
  font-family: "Space Mono", monospace;
  display: none;
  position: fixed;
  bottom: 20px;
  right: 30px;
  z-index: 99;
  font-size: 12px;
  border: none;
  outline: none;
  background-color: #1d1d1d;
  opacity: 0.15;
  color: white;
  cursor: pointer;
  padding: 10px 15px 10px 15px;
  border-radius: 4px; }

#myBtn:hover {
  opacity: 1; }

a.anchorjs-link:hover {
  background: none;
  color: #485094;
  box-shadow: none; }

@page {
  margin: 2cm 1cm 2cm 1cm; }
@media print {
  h1, .WordSection11 {
    page-break-before: always; }

  #toggle, .document-stage-band,
  .document-type-band, #myBtn {
    display: none; }

  .container {
    padding-left: 0; }

  nav {
    position: relative;
    width: auto;
    font-size: 0.9em;
    overflow: auto;
    padding: 0;
    margin-right: 0;
    background-color: white; }

  #toc .toc-active a {
    color: #485094; }

  #toc .toc-active, #toc li:hover {
    background: white;
    box-shadow: none !important; }

  #toc li:hover a {
    color: black; }

  h1.toc-contents {
    margin-top: 2em; } }

-->
</style>
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!--TOC script import-->
    <script type="text/javascript" src="https://cdn.rawgit.com/jgallen23/toc/0.3.2/dist/toc.min.js"></script>

    <!--Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i|Space+Mono:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Overpass:300,300i,600,900" rel="stylesheet" />
    <!--Font awesome import for the link icon-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css" integrity="sha384-v2Tw72dyUXeU3y4aM2Y0tBJQkGfplr39mxZqlTBDUZAb9BGoC40+rdFCG0m10lXk" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/fontawesome.css" integrity="sha384-q3jl8XQu1OpdLgGFvNRnPdj5VIlCvgsDQTQB6owSOHWlAurxul7f+JpUOVdAiJ5P" crossorigin="anonymous" />
<style class="anchorjs"></style>
</head>
  <body lang="EN-US" link="blue" vlink="#954F72" xml:lang="EN-US" class="container">
    <div class="WordSection1"><div class="document-stage-band" id="working-draft-band">
    <p class="document-stage">Working Draft</p>
</div>

<div class="document-type-band" id="standard-band">
    <p class="document-type">Calconnect Standard</p>
</div>
  
    

  <div id="toggle"> <span>&#x2022;</span> </div>

  <header>

<!--<div class="WordSection1">-->
  <div class="coverpage">
    <div class="wrapper-top">

  <div class="coverpage-doc-identity">
    <div class="doc-number">
      <span class="docnumber">CD 18XX(wd)</span>
      <span class="docnumber-separator">:</span>
      <span class="docyear">2018</span>
    </div>

    <div class="coverpage-title">
      <span class="title-first">Guidelines to thwart calendar abuse for calendaring and mail system operators</span>
      <!--<span class="title-second"></span>-->
    </div>
  </div>

  <div class="coverpage-logo">
    <span>The Calendaring and Scheduling Consortium</span>
  </div>

  <div class="coverpage-tc-name">
    <span>TC CALSPAM</span>
  </div>
  </div>

  <div class="WordSection11">
  <div class="coverpage-stage-block">
    <span class="coverpage-stage" id="standard">Calconnect Standard</span>
  </div>

  <div class="coverpage-stage-block">
    <span class="coverpage-maturity" id="working-draft">Working Draft</span>
</div>


  <div class="coverpage-warning">
    <span class="title">Warning for Drafts</span>

    <p class="content">
    This document is not a CalConnect Standard. It is distributed for review and
    comment, and is subject to change without notice and may not be referred to as
    a Standard. Recipients of this draft are invited to submit, with their
    comments, notification of any relevant patent rights of which they are aware
    and to provide supporting documentation.
    </p>
  </div>


<div class="copyright">
  <p class="year">
    &#xA9; 2018 The Calendaring and Scheduling Consortium, Inc.
  </p>

  <p class="message">
    All rights reserved. Unless otherwise specified, no part of this
    publication may be reproduced or utilized otherwise in any form or by any
    means, electronic or mechanical, including photocopying, or posting on the
    internet or an intranet, without prior written permission. Permission can
    be requested from the address below.
  </p>

<div class="contact-info">
  <p class="name">The Calendaring and Scheduling Consortium, Inc.</p>
  <p class="address">
    4390 Chaffin Lane<br />
    McKinleyville<br />
    California 95519<br />
    United States of America<br />
    <br />
    <a href="mailto:copyright@calconnect.org">copyright@calconnect.org</a><br />
    <a href="www.calconnect.org">www.calconnect.org</a>
  </p>
</div>
</div>

<div class="rule"></div>
</div>



</div></header>
      <p>&#xA0;</p>
    </div>
    <br />
    <div class="WordSection2"><nav>
  <h1 id="content">Contents</h1>
  <div id="toc"></div>

</nav>


<div class="rule toc"></div>

      <p>&#xA0;</p>
    </div>
    <br />
    <main class="WordSection3"><button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
      <br />
      <div>
        <h1 class="ForewordTitle">Foreword</h1>
        <p id="_d8480aae-7cf2-486a-85d8-9e37fedcde7b">The Calendaring and Scheduling Consortium ("CalConnect") is global non-profit
organization with the aim to facilitate interoperability of technologies across
user-centric systems and applications.</p>
        <p id="_1c2aadbf-567c-4e04-9709-90aa3dbb84ca">CalConnect works closely with liaison partners including international
organizations such as ISO, OASIS and M3AAWG.</p>
        <p id="_62a70251-7c78-4f8b-8ce5-a1a0d0de7230">The procedures used to develop this document and those intended for its further
maintenance are described in the CalConnect Directives and in this case also aligned
with the procedures used at M3AAWG.</p>
        <p id="_0016dd04-634c-478e-914c-dbc33bbd1dbf">In particular the different approval criteria needed for the different types of
CalConnect documents should be noted. This document was drafted in accordance with the
editorial rules of the CalConnect Directives and M3AAWG.</p>
        <p id="_02515df6-02be-4127-bea7-4920e62b01b6">Attention is drawn to the possibility that some of the elements of this
document may be the subject of patent rights. CalConnect shall not be held responsible
for identifying any or all such patent rights. Details of any patent rights
identified during the development of the document will be in the Introduction
and/or on the CalConnect list of patent declarations received (see
www.calconnect.com/patents).</p>
        <p id="_0760e408-5fe9-48b8-82ed-4b0b9b654fe9">Any trade name used in this document is information given for the convenience
of users and does not constitute an endorsement.</p>
        <p id="_b6ab3324-f55e-4173-b71c-d08493d39a14">This document was prepared by Technical Committee <i>CALSPAM</i>.</p>
      </div>
      <br />
      <div class="Section3" id="_introduction">
        <h1 class="IntroTitle">0.&#xA0; Introduction</h1>
        <div id="_definition"><h2>0.1. Definition</h2><p id="_bb4822b0-eda8-40ee-ab44-0c2b2f28e053">"Calendar spam", unsolicited or otherwise unwanted calendar events and meeting invitations,
is a recently exploited channel for abuse aimed at users of
calendaring &amp; scheduling systems. It is a new form of application-specific spam which
takes advantage of the application layer across multiple technologies that spans
scheduling, calendaring and messaging systems.
As is the case with email spam, calendar spam is not only used to deliver unwanted
information, but can also be used for malicious purposes such as phishing attempts
and delivering dangerous payloads.</p>
<p id="_3649b4d8-af36-40bc-83a0-30f07029d016">As calendar events and meeting invitations are often (but not exclusively) transported and delivered via
email, combatting calendar spam requires awareness, intervention and integration
with email systems and services.</p></div>
        <div id="_impact"><h2>0.2. Impact</h2><p id="_90cbb7de-929c-4a9d-b85c-ffba9fa18b49">Calendar spam is unique in a number of ways:</p>
<ol type="a">
  <li>
    <p id="_a177386d-bd4b-4912-be56-6195405b0beb">Calendar spam, unlike email, can be placed chronologically anywhere in calendars, in
the past or the future, not just the present, making it difficult for the end-user to detect at the time of
delivery.</p>
  </li>
  <li>
    <p id="_4bc3f698-e92b-4cf7-8dfd-b9d7b08fd45f">Spam meeting invitations, may automatically see these unwanted invitations added to
their calendar without their consent, with notifications sent to all their devices.
These invitations are not only difficult to find, but in some cases there is no way for
the user to remove these events short of deleting the entire calendar.</p>
  </li>
  <li>
    <p id="_7fe3c0f8-3b4b-45c2-8965-fed04dcc9245">Calendar events and meeting invitations do not yet carry the rich provenance which today accompanies email (detailed
header information), making it difficult to ascertain
where and when events originated and were delivered.</p>
  </li>
  <li>
    <p id="_2a8889fe-7fc9-452b-a3bd-072ffb2aaf4a">Calendar events often contain notifications/alarms which are propagated across
a user&#x2019;s desktop and mobile calendaring clients.  It is common for users to have multiple
calendaring clients which exacerbates the abuse.</p>
  </li>
  <li>
    <p id="_00b6cb37-e0bc-4433-930c-bb2e4670de4b">Calendar events can include recurrence meaning that one event can show up in the user&#x2019;s
calendar multiple times with multiple notifications/alarms being triggered over time.</p>
  </li>
</ol></div>
      </div>
      <p class="zzSTDTitle1">Guidelines to thwart calendar abuse for calendaring and mail system operators</p>
      <div id="_scope">
        <h1>1.&#xA0; Scope</h1>
        <p id="_8549c912-b0b3-4ff2-902c-c55780c3e2c6">This document specifies guidelines for calendaring and mail system operators to:</p>
        <ul>
  <li>
    <p id="_ed7228a7-a538-43e2-abe1-0a1d60ec795e">detect the occurrence of calendar abuse;</p>
  </li>
  <li>
    <p id="_c4165fe6-cf0d-488c-8086-4c7ee76d76ae">consider processes and procedures to mitigate calendar abuse; and</p>
  </li>
  <li>
    <p id="_822b4231-ec51-4c37-996c-621b8e3d60fa">suggest acceptable (non-abusive) practices with calendar usage.</p>
  </li>
</ul>
      </div>
      <div>
        <h1>2.&#xA0; Normative References</h1>
        <p>The following documents are referred to in the text in such a way that some or all of their content constitutes requirements of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.</p>
        <p id="iMIP" class="Biblio">IETF RFC 6047,
    <i>iCalendar Message-Based Interoperability Protocol (iMIP)</i>
  </p>
        <p id="iTIP" class="Biblio">IETF RFC 5546,
    <i>iCalendar Transport-Independent Interoperability Protocol (iTIP)</i>
  </p>
      </div>
      <div id="_terms_definitions_and_abbreviations"><h1>3.&#xA0; Terms and Definitions</h1><p>For the purposes of this document,
    the following terms and definitions apply.</p>
<div id="_terms_and_definitions"><h2>3.1. Terms and Definitions</h2>
<h3 class="TermNum" id="calendar-system">3.1.1&#xA0;<p class="Terms" style="text-align:left;">calendar system</p></h3><p id="_5766b29d-12c8-4bd1-bb1e-1c8d2204d98d">an information system that provides the calendar and scheduling functionality for end-user accounts.
This includes creating, editing and deleting events as well as scheduling
events between different user accounts including user accounts from other calendaring
systems.</p><p id="_0c36e58e-2269-4f15-9cca-5f500d2323f0">The <i>calendar system</i> should apply state-of-the-art methods to prevent spam being sent from and
received by user accounts on their system.</p>

<div class="Note"><p class="Note">Note 1 to entry: The term <i>calendar system</i> in this standard specifically refers
to calendaring systems that fulfill the requirements of CalConnect
calendaring standards.</p></div>
<h3 class="TermNum" id="calendar-spam">3.1.2&#xA0;<p class="Terms" style="text-align:left;">calendar spam</p></h3>
  
  <p id="_c4a56b27-cf65-4bbc-93f9-22d87e3b0375">unsolicited calendar events and meeting invitations delivered through calendaring systems</p>

<h3 class="TermNum" id="calendar-abuse">3.1.3&#xA0;<p class="Terms" style="text-align:left;">calendar abuse</p></h3>
  
  <p id="_fb9f0a08-71ec-42c6-b8b3-5c78dd4a1033">malicious usage of a <i>calendar system</i> (<a href="#calendar-system">ISO/IEC 27000:2016</a>),
possibly leading to an <i>attack</i> (<a href="#ISO27000">ISO/IEC 27000:2016, 3.2</a>)
on the receiving user</p>

<h3 class="TermNum" id="attack">3.1.4&#xA0;<p class="Terms" style="text-align:left;">attack</p></h3><p id="_e17eea78-6c34-436b-99bc-123987ea595e">attempt to destroy, expose, alter, disable, steal or gain unauthorized
access to or make unauthorized use of an asset</p>
<p>[SOURCE: <a href="#ISO27000">ISO/IEC 27000:2016</a>]</p>
<h3 class="TermNum" id="mail-system">3.1.5&#xA0;<p class="Terms" style="text-align:left;">mail system</p></h3><p id="_439e3b0c-0904-40ee-84ff-5e33dd8f22a1">an information system that provides mail functionality. The most used method to send
calendar invites between users is <i>iMIP</i> (<a href="#iMIP">ISO/IEC 27000:2016</a>), a way of exchanging iTIP (<a href="#iTIP">ISO/IEC 27000:2016</a>) messages
using email. Therefor <i>mail systems</i> play a vital role in connecting users from different
providers by creating events and inviting other users to join. Mail systems are used to
transport the calendar relevant information from organizers to attendees of events.</p><p id="_6eaadc6b-f0f0-4c49-beb4-ad07012a1abb">The <i>mail system</i> should apply state-of-the-art methods to prevent spam being sent by and
received from user accounts on their system.</p>

<h3 class="TermNum" id="user-system">3.1.6&#xA0;<p class="Terms" style="text-align:left;">user system</p></h3><p id="_e7a1a78b-ab90-4c7e-91c9-b111c77b98b1">an information system that provides authentication and autorization functionality. The
<i>user system</i> should prevent fake, bot or spam registrations in order to limit the
number of user accounts on their system, that can later be used for creating spam
(either mail or calendar).</p><p id="_7a101533-9036-4b13-a437-b4cc35bd8cfc">The <i>user system</i> should also prevent real user accounts being compromised by
malicious actors by providing state-of-the-art authentication methods e.g. two-factor-
authentication.</p>

<h3 class="TermNum" id="spam">3.1.7&#xA0;<p class="Terms" style="text-align:left;">spam</p></h3>
  
  <p id="_0fad709d-adb6-4320-94e2-9ab38c936b11">unsolicited or unwanted information</p>
</div><div id="abbrev"><h2>3.2. Abbreviations</h2><p id="_6b8bb76b-f34a-4864-b2e2-505cd1e1cc07">For the purposes of this document, the following abbreviations apply.</p>
<div id="terms-imip"><h3>3.2.1. iMIP</h3><p id="_c4761d12-5def-495c-af47-7ce0fc3a49b5">iCalendar Message-Based Interoperability Protocol (iMIP)</p>
<p>[SOURCE: <a href="#iMIP">ISO/IEC 27000:2016</a>]</p></div>
<div id="terms-itip"><h3>3.2.2. iTIP</h3><p id="_36f2a822-faef-4ccb-b98a-e3feb2b173ff">iCalendar Transport-Independent Interoperability Protocol (iTIP)</p>
<p>[SOURCE: <a href="#iTIP">ISO/IEC 27000:2016</a>]</p></div>
<div id="terms-smtp"><h3>3.2.3. SMTP</h3><p id="_550200f2-8f18-423e-b7e5-785c1f597c73">Simple Mail Transfer Protocol</p>
<p>[SOURCE: <a href="#SMTP">ISO/IEC 27000:2016</a>]</p></div></div></div>
      <div id="_best_common_practices_for_mitigating_ways_calendar_spam_occurs">
        <h1>4.&#xA0; Best common practices for mitigating ways calendar spam occurs</h1>
        <div id="_detecting_and_mitigating_spam_on_source_system"><h2>4.1. Detecting and mitigating spam on source system</h2><p id="_0afb25a9-5b2d-434d-871d-87b27aca080a">User accounts could be compromised by malicious actors or free hosting providers could
be abused with bots signing up for free accounts. These accounts are then used to create
calendar spam events. The calendar system uses templating to send an email invitation
with the calendar event attached and the event content will also be inserted into body
of the email.  The "source" hosting provider should take steps to detect and mitigate this
internal abuse on the calendar system and the email system.</p>
<div id="_using_calendar_systems"><h3>4.1.1. using calendar systems</h3><p id="_8d5ce06b-cfd4-411f-abad-1b9b9f011fb2">There are different best common practices that can be applied here:</p>
<ol type="a">
  <li>
    <p id="_c51803a5-670c-4cde-8c1e-74b9646fdd98">abuse detection on front-end usage using input as network/IPs, user agents, click rate /
path</p>
  </li>
  <li>
    <p id="_769ca9a2-7c63-45f7-a8bf-e581584ae72e">checking the event content (subject, description, recurrence, number of attendees,
links, &#x2026;&#x200B;) for typical spam patterns before creating the event and sending the email
invitations</p>
  </li>
</ol>
<p id="_fb4e7997-d0c4-4e15-a7e0-77ce73be9d3a">There are many potential actions that could be invoked if potential spam is detected (e.g. not sending, display frontend
error or feedback, alert user account, apply rate limiting, demand solving captcha before
sending, block the account altogether and more.)</p></div>
<div id="_using_smtp"><h3>4.1.2. using smtp</h3><p id="_4cd0e4f5-1dec-4e01-950a-53a8068eae70">There are different best common practices that can be applied here:</p>
<ol type="a">
  <li>
    <p id="_156741ba-9264-4f2b-a348-55f56f003da9">abuse detection for SMTP access using input as network patterns, DNSBL checks against the client IP, &#x2026;&#x200B;</p>
  </li>
  <li>
    <p id="_4022852a-1621-49c2-896b-31185099c672">check email for spam content patterns (malicious content, blacklisted/known phishing URLs, &#x2026;&#x200B;)
using standard email anti-spam scanning applications</p>
  </li>
</ol>
<p id="_e5e65964-7d51-4652-86ea-869de03b210f">There are many potential actions that could be invoked if potential spam is detected (e.g. bounce the message, discard the message,
InfoSec data sharing with receiving email/calendar providers, and more.)</p></div></div>
        <div id="_detecting_and_mitigating_spam_on_receiving_system"><h2>4.2. detecting and mitigating spam on receiving system</h2><p id="_8dc9f409-9fdb-43a1-9be8-070835aaf9c7">Spam events are typically received by recipients in two ways:</p>
<ol type="a">
  <li>
    <p id="_3eb5a07f-81bc-4ff8-af3f-bf767fb5f898">via email from an external system, or</p>
  </li>
  <li>
    <p id="_2345f84b-845f-4272-8afa-8a6162e747dd">directly from another account (bot or compromised) within the <i>calendar system</i></p>
  </li>
</ol>
<p id="_aabc1448-3ee5-416f-823e-1be5313e2da2">Events from internal accounts may propagate natively within the <i>calendar system</i> or they
may propagate over email, depending on implementation.  The "receiving" hosting provider
can take steps to detect and mitigate the "external" abuse on the <i>calendar system</i> and
the <i>mail system</i>.</p>
<div id="_mail_system"><h3>4.2.1. mail system</h3><p id="_9efd1db9-becc-4852-8cb2-75c2a429e962">There are different best common practices that can be applied here:</p>
<ol type="a">
  <li>
    <p id="_ab80d6d7-7004-4d4e-9394-89462bffee16">abuse detection for receiving email including input as network, mail header/
structure, &#x2026;&#x200B;</p>
  </li>
  <li>
    <p id="_b094c35c-1f71-4a1d-9a0c-de18439e4377">check email for spam content patterns using standard email anti-spam scanning applications,
DNSBLs, URIBLs, etc.</p>
  </li>
  <li>
    <p id="_bc4fa5e6-46cf-4796-9f46-89410e4af7aa">check sender From address reputation using internal and external sources e.g. subscribe
to InfoSec feeds of known malicious addresses, organiser on whitelist, &#x2026;&#x200B;</p>
  </li>
</ol>
<p id="_4efa6190-30f5-4c2a-a556-12483c3c85f0">There are many potential actions that could be invoked if potential spam is detected (e.g. bounce the message, discard the message,
put the message in quarantaine or spam folder.)
Interaction (e.g. adding the event to the end-user&#x2019;s calendar) with the <i>calendar system</i> should not be initiated in these instances.</p>
<p id="_82daeb27-6eac-4e27-b5b4-792617de4add">As some of these actions do not deliver the email
to the user and no interaction with the <i>calendar system</i> occurs, the recipient
has no way to handle false positives. Therefore these actions can only be taken if the
<i>mail system</i> is very certain about this being abuse or spam.</p>
<p id="_3a44252d-4334-4cde-b66d-14e7e86860ea">For some of the milder actions (e.g. putting in spam folder) the user should be offered
options. For example, allow these emails to be marked as false positives and offer the client option to manually insert
the events into the user&#x2019;s calendar.</p></div>
<div id="_interaction_between_mail_system_and_calendar_system"><h3>4.2.2. interaction between <i>mail system</i> and <i>calendar system</i></h3><p id="_4f9a5d21-e0e7-4a63-8b9c-6bc7643a1969">Interaction between the <i>mail system</i> and the <i>calendar system</i> should follow these best common
practices:</p>
<ol type="a">
  <li>
    <p id="_552cca18-bda9-4089-ae85-572e54121412">the interaction should only be triggered for emails not already identified as spam
during applying the above mentioned best common practices for mail systems</p>
  </li>
  <li>
    <p id="_8a405089-c9f8-47a2-918b-875d2c85cbbc">the events should be parsed by the <i>calendar system</i> due to the domain knowledge regarding calendar structure not present
or mature in most types of <i>mail system</i></p>
  </li>
  <li>
    <p id="_f8d8fb23-eb61-48b6-919d-8266b1362263">the event content should be checked for spam patterns (subject, description, recurrence,
links, &#x2026;&#x200B;) to determine the likeliness being <i>spam</i></p>
  </li>
  <li>
    <p id="_a15f7d74-16ed-47dd-92fb-fa32b5ffccb9">depending on the likeliness being <i>spam</i>, spam handling options should be offered in the
users settings for insert (e.g. only automatic insert for organizers on a whitelist /
personal address book, state of this event in availability of calendar (e.g. free,
conditional or blocked))</p>
  </li>
</ol>
<p id="_6a1ae12e-fc37-43db-89f7-e5e9c6d3dda8">There are many potential actions that could be invoked if potential spam detected )e.g. not automatically inserting,
deactivated notifications, &#x2026;&#x200B;)</p></div>
<div id="_calendar_system"><h3>4.2.3. <i>calendar system</i></h3><p id="_ebf9e08d-6a43-4dbe-b8a8-ac21aacf91a2">Besides inserting or not inserting the received events into the user calendar
during the interaction between <i>mail system</i> and <i>calendar system</i>, the <i>calendarsystem</i> should offer these best common practices:</p>
<ol type="a">
  <li>
    <p id="_fd737059-8086-4baf-bd6a-4ad244dd2760">offer the end-user a delete option for unwanted events (e.g. mark as spam in the client) in order
to give the user the option for deleting the unwanted events without notifying the
organizer.</p>
  </li>
  <li>
    <p id="_2a2af6cf-1086-43c8-b12f-651d32f0bb2f">consider sending ARF reports for calendar abuse reporting</p>
  </li>
  <li>
    <p id="_d679783b-1aa7-40b8-9898-998a5c31a8b7">store information about how an event was inserted into the users calendar (e.g. Message-ID)
in order to be able to inform the user about this contextual information and to provide additional information to the sending system about the abuse</p>
  </li>
</ol>
<p id="_f6110a4e-aafd-4f1f-9724-79981cff37f4">There are many potential actions that could be invoked if spam is detected by the user e.g. sending Feedback loop if
MailID and original email is still available in the <i>mail system</i>.</p></div></div>
        <div id="_other_ways_calendar_spam_can_occur"><h2>4.3. other ways calendar <i>spam</i> can occur</h2><div id="_subscribing_to_shared_calendars_containing_malicious_events"><h3>4.3.1. subscribing to shared calendars containing malicious events</h3><p id="_323f5ba2-01f9-4f78-91b4-78ea12edb03e">Another way how malicious events can end up in users calendar are shared calendars
being manipulated on origin side. Popular calendars e.g. official vacation/bank holidays
in countries or states or schedules of popular sports clubs could be target for phishing
/ taken over by spammers.</p>
<p id="_2a85282a-8239-4292-a536-e4c30785f1db">Single malicious events within these subscribed calendars can not be deleted if shared
read-only. More robust controls may be needed for calendar subscribers, but unsubscribing
the specific calendar can solve the problem on an all or nothing approach (also the
wanted events are then unsubscribed and deleted from users calendar).</p></div>
<div id="_itip">
  <h3>4.3.2.
    <i>iTIP</i>
  </h3>
  <p id="_d91c946a-5450-4bd3-bb2d-49fcacd0b9e1">Calendar systems using <i>iTIP</i> for direct communication between each other e.g. within
the same <i>calendar system</i> also need to consider and implement anti-abuse options as
mentioned above.</p>
</div></div>
      </div>
      <div id="_conclusion">
        <h1>5.&#xA0; Conclusion</h1>
        <p id="_613fc5e6-7750-4e72-92f9-c1cf09753acf">TODO.</p>
      </div>
      <br />
      <div id="AnnexA" class="Section3">
        <h1 class="Annex"><b>Appendix A</b> (informative) <b>Technical information</b></h1>
        <div id="_structure_of_an_best_practice_imip_message_containing_an_event"><h2>A.1. Structure of an best practice iMIP message containing an event</h2><p id="_542eb619-8410-4e18-832c-927e56ab86bf">Email messages may have more than a single iCalendar file attached, but the best practice
is to only attach a single iMIP (<a href="#iMIP">ISO/IEC 27000:2016</a>) file to each email.</p>
<p id="_9240524a-95ca-4a77-be8c-3af348e0643a">The recommended structure the email is as follows:</p>
<p id="_c4dbb26a-f1cb-4d47-bb54-af6287dabef5" class="Sourcecode">&#xA0;multipart/mixed<br />&#xA0;&#xA0;&#xA0;&#xA0;multipart/alternative<br />&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;text/plain<br />&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;text/html<br />&#xA0;&#xA0;&#xA0;&#xA0;text/calendar;&#xA0;method=REQUEST<br />&#xA0;&#xA0;&#xA0;&#xA0;application/ics&#xA0;(with&#xA0;a&#xA0;content-disposition:attachment)&#xA0;BASE64</p>
<p id="_f43af6c4-cf45-4e6a-8ace-b67da74cb9fd">This structure is based on interoperability testing with various existing implementations.
Some clients will only see the part with the standard <tt>text/calendar</tt> content-type and the
method header. Other clients are only able to attached parts with <tt>application/ics</tt> (which
is non-standard).</p>
<p id="_e06aa656-08e5-418a-804f-2781d2be2ad0">It is also recommended that the filename of the <tt>application/ics</tt> part ends
with the <tt>.ics</tt> file extension.</p>
<p id="_cbec7b0b-853c-4896-b828-f82aa7430948">Some vendors add links within the HTML part which can be used from non-calendaring-aware
email clients to accept or decline a request without having to process the calendar parts
at all. The server just updates the ORGANIZER&#x2019;s copy of the event based on the link
clicked.</p>
<p id="_1da900f5-aad6-4056-b21a-a268863e7006">When using standard conform <i>calendar systems</i> the structure of the email will be like
above and the <tt>text/plain</tt> and <tt>text/html</tt> part of the message in the body will also include
information of the event e.g. subject, description, &#x2026;&#x200B; . This does not prevent spammers
from not including this potential malicious content besides the attached files, so all
parts need to be parsed to detect malicious content in events.</p></div>
      </div>
      <br />
      <div>
        <h1 class="Section3">Bibliography</h1>
        <p id="ISO/IEC27000" class="Biblio">[1]&#xA0; ISO/IEC 27000: 2018, <i> Information technology -- Security techniques -- Information security management systems</i></p>
        <p id="SMTP" class="Biblio">[2]&#xA0; IETF RFC 2821,<i>Simple Mail Transfer Protocol (SMTP)</i> <a href="https://www.ietf.org/rfc/rfc2821.txt">https://www.ietf.org/rfc/rfc2821.txt</a></p>
      </div>
    </main>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    asciimath2jax: {
      delimiters: [['(#(', ')#)']]
    }
 });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=AM_HTMLorMML"></script>
<script>
    //TOC generation
      $('#toc').toc({
          'selectors': 'h1,h2:not(.TermNum)', //elements to use as headings
          'container': 'main', //element to find all selectors in
          'smoothScrolling': true, //enable or disable smooth scrolling on click
          'prefix': 'toc', //prefix for anchor tags and class names
          'onHighlight': function(el) {}, //called when a new section is highlighted 
          'highlightOnScroll': true, //add class to heading that is currently in focus
          'highlightOffset': 100, //offset to trigger the next headline
          'anchorName': function(i, heading, prefix) { //custom function for anchor name
              return prefix+i;
          },
          'headerText': function(i, heading, $heading) { //custom function building the header-item text
              return $heading.text();
          },
      'itemClass': function(i, heading, $heading, prefix) { // custom function for item class
        return $heading[0].tagName.toLowerCase();
      }
      });
      
  </script>

<script>
  //TOC toggle animation
$('#toggle').on('click', function(){
    if( $('nav').is(':visible') ) {
        $('nav').animate({ 'left': '-353px' }, 'slow', function(){
            $('nav').hide();
        });
        $('.container').animate({ 'padding-left': '31px' }, 'slow');
    }
    else {
        $('nav').show();
        $('nav').animate({ 'left': '0px' }, 'slow');
        $('.container').animate({ 'padding-left': '360px' }, 'slow');
    }
});
</script>

<script>
    // Scroll to top button
    window.onscroll = function() {scrollFunction()};
    
    function scrollFunction() {
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            document.getElementById("myBtn").style.display = "block";
        } else {
            document.getElementById("myBtn").style.display = "none";
        }
    }
    
    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
    </script>

  <script>
/**
 * AnchorJS - v4.1.0 - 2017-09-20
 * https://github.com/bryanbraun/anchorjs
 * Copyright (c) 2017 Bryan Braun; Licensed MIT
 */
!function(A,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():(A.AnchorJS=e(),A.anchors=new A.AnchorJS)}(this,function(){"use strict";return function(A){function e(A){A.icon=A.hasOwnProperty("icon")?A.icon:"",A.visible=A.hasOwnProperty("visible")?A.visible:"hover",A.placement=A.hasOwnProperty("placement")?A.placement:"right",A.ariaLabel=A.hasOwnProperty("ariaLabel")?A.ariaLabel:"Anchor",A.class=A.hasOwnProperty("class")?A.class:"",A.truncate=A.hasOwnProperty("truncate")?Math.floor(A.truncate):64}function t(A){var e;if("string"==typeof A||A instanceof String)e=[].slice.call(document.querySelectorAll(A));else{if(!(Array.isArray(A)||A instanceof NodeList))throw new Error("The selector provided to AnchorJS was invalid.");e=[].slice.call(A)}return e}function i(){if(null===document.head.querySelector("style.anchorjs")){var A,e=document.createElement("style");e.className="anchorjs",e.appendChild(document.createTextNode("")),void 0===(A=document.head.querySelector('[rel="stylesheet"], style'))?document.head.appendChild(e):document.head.insertBefore(e,A),e.sheet.insertRule(" .anchorjs-link {   opacity: 0;   text-decoration: none;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale; }",e.sheet.cssRules.length),e.sheet.insertRule(" *:hover > .anchorjs-link, .anchorjs-link:focus  {   opacity: 1; }",e.sheet.cssRules.length),e.sheet.insertRule(" [data-anchorjs-icon]::after {   content: attr(data-anchorjs-icon); }",e.sheet.cssRules.length),e.sheet.insertRule(' @font-face {   font-family: "anchorjs-icons";   src: url(data:n/a;base64,AAEAAAALAIAAAwAwT1MvMg8yG2cAAAE4AAAAYGNtYXDp3gC3AAABpAAAAExnYXNwAAAAEAAAA9wAAAAIZ2x5ZlQCcfwAAAH4AAABCGhlYWQHFvHyAAAAvAAAADZoaGVhBnACFwAAAPQAAAAkaG10eASAADEAAAGYAAAADGxvY2EACACEAAAB8AAAAAhtYXhwAAYAVwAAARgAAAAgbmFtZQGOH9cAAAMAAAAAunBvc3QAAwAAAAADvAAAACAAAQAAAAEAAHzE2p9fDzz1AAkEAAAAAADRecUWAAAAANQA6R8AAAAAAoACwAAAAAgAAgAAAAAAAAABAAADwP/AAAACgAAA/9MCrQABAAAAAAAAAAAAAAAAAAAAAwABAAAAAwBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAMCQAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAg//0DwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAAIAAAACgAAxAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADAAAAAIAAgAAgAAACDpy//9//8AAAAg6cv//f///+EWNwADAAEAAAAAAAAAAAAAAAAACACEAAEAAAAAAAAAAAAAAAAxAAACAAQARAKAAsAAKwBUAAABIiYnJjQ3NzY2MzIWFxYUBwcGIicmNDc3NjQnJiYjIgYHBwYUFxYUBwYGIwciJicmNDc3NjIXFhQHBwYUFxYWMzI2Nzc2NCcmNDc2MhcWFAcHBgYjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAAADACWAAEAAAAAAAEACAAAAAEAAAAAAAIAAwAIAAEAAAAAAAMACAAAAAEAAAAAAAQACAAAAAEAAAAAAAUAAQALAAEAAAAAAAYACAAAAAMAAQQJAAEAEAAMAAMAAQQJAAIABgAcAAMAAQQJAAMAEAAMAAMAAQQJAAQAEAAMAAMAAQQJAAUAAgAiAAMAAQQJAAYAEAAMYW5jaG9yanM0MDBAAGEAbgBjAGgAbwByAGoAcwA0ADAAMABAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAP) format("truetype"); }',e.sheet.cssRules.length)}}this.options=A||{},this.elements=[],e(this.options),this.isTouchDevice=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},this.add=function(A){var n,o,s,a,r,c,h,l,u,d,f,p=[];if(e(this.options),"touch"===(f=this.options.visible)&&(f=this.isTouchDevice()?"always":"hover"),A||(A="h2, h3, h4, h5, h6"),0===(n=t(A)).length)return this;for(i(),o=document.querySelectorAll("[id]"),s=[].map.call(o,function(A){return A.id}),r=0;r<n.length;r++)if(this.hasAnchorJSLink(n[r]))p.push(r);else{if(n[r].hasAttribute("id"))a=n[r].getAttribute("id");else if(n[r].hasAttribute("data-anchor-id"))a=n[r].getAttribute("data-anchor-id");else{u=l=this.urlify(n[r].textContent),h=0;do{void 0!==c&&(u=l+"-"+h),c=s.indexOf(u),h+=1}while(-1!==c);c=void 0,s.push(u),n[r].setAttribute("id",u),a=u}a.replace(/-/g," "),(d=document.createElement("a")).className="anchorjs-link "+this.options.class,d.href="#"+a,d.setAttribute("aria-label",this.options.ariaLabel),d.setAttribute("data-anchorjs-icon",this.options.icon),"always"===f&&(d.style.opacity="1"),""===this.options.icon&&(d.style.font="1em/1 anchorjs-icons","left"===this.options.placement&&(d.style.lineHeight="inherit")),"left"===this.options.placement?(d.style.position="absolute",d.style.marginLeft="-1em",d.style.paddingRight="0.5em",n[r].insertBefore(d,n[r].firstChild)):(d.style.paddingLeft="0.375em",n[r].appendChild(d))}for(r=0;r<p.length;r++)n.splice(p[r]-r,1);return this.elements=this.elements.concat(n),this},this.remove=function(A){for(var e,i,n=t(A),o=0;o<n.length;o++)(i=n[o].querySelector(".anchorjs-link"))&&(-1!==(e=this.elements.indexOf(n[o]))&&this.elements.splice(e,1),n[o].removeChild(i));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(A){var t=/[& +$,:;=?@"#{}|^~[`%!'<>\]\.\/\(\)\*\\]/g;return this.options.truncate||e(this.options),A.trim().replace(/\'/gi,"").replace(t,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(A){var e=A.firstChild&&(" "+A.firstChild.className+" ").indexOf(" anchorjs-link ")>-1,t=A.lastChild&&(" "+A.lastChild.className+" ").indexOf(" anchorjs-link ")>-1;return e||t||!1}}});  </script>

  <script>
  $(document).ready(function() {
          $('[id^=toc]').each(function ()
          {
             var currentToc = $(this);
       var url = window.location.href;
             currentToc.wrap("<a href='" + url + "#" + currentToc.attr("id") + "' </a>");
          });
});
  anchors.options = {
  placement: 'left'
};
anchors.add('h1, h2, h3, h4');
</script></body>
</html>
